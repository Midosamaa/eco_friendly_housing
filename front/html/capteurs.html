<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Capteurs et Actionneurs</title>
    <link rel="stylesheet" href="../../static/css/styles.css"></head>
<body>

    <header class="header">
        <h1>Gestion des Capteurs et Actionneurs</h1>
        <nav class="nav">
            <a href="{{ url_for('home') }}">Accueil</a>
            <a href="{{ url_for('consommation') }}">Consommation</a>
            <a href="{{ url_for('capteurs') }}" class="active">Capteurs/Actionneurs</a>
            <a href="{{ url_for('economies') }}">Économies</a>
            <a href="{{ url_for('configuration') }}">Configuration</a>
        </nav>
        <div class="account-menu">
            <img src="../../static/images/account-icon2.png" alt="Compte" class="account-icon">
            <ul class="dropdown-menu">
                <li><a href="{{ url_for('change_password') }}">Changer de mot de passe</a></li>
                <li><a href="{{ url_for('logout') }}">Se déconnecter</a></li>
            </ul>
        </div>
    </header>

    <section class="sensor-actuator">
        <div class="container">
            <h2>Capteurs</h2>

            <!-- Liste des capteurs -->
            <div class="sensor-list">
                <div class="sensor">
                    <h3>Capteur de Température</h3>
                    <p>État : <span class="status on">Activé</span></p>
                    <button class="btn-toggle">Désactiver</button>
                </div>
                <div class="sensor">
                    <h3>Capteur de Humidité</h3>
                    <p>État : <span class="status off">Désactivé</span></p>
                    <button class="btn-toggle">Activer</button>
                </div>
                <div class="sensor">
                    <h3>Capteur de CO2</h3>
                    <p>État : <span class="status on">Activé</span></p>
                    <button class="btn-toggle">Désactiver</button>
                </div>
            </div>

            <h2>Actionneurs</h2>

            <!-- Liste des actionneurs -->
            <div class="actuator-list">
                <div class="actuator">
                    <h3>Chauffage</h3>
                    <p>État : <span class="status on">Allumé</span></p>
                    <button class="btn-toggle">Éteindre</button>
                </div>
                <div class="actuator">
                    <h3>Climatisation</h3>
                    <p>État : <span class="status off">Éteint</span></p>
                    <button class="btn-toggle">Allumer</button>
                </div>
                <div class="actuator">
                    <h3>Éclairage</h3>
                    <p>État : <span class="status on">Allumé</span></p>
                    <button class="btn-toggle">Éteindre</button>
                </div>
            </div>
        </div>
    </section>

    <footer class="footer">
        <p>© 2024 My Eco Pal House</p>
    </footer>

    <script>
        // Script pour gérer l'activation et la désactivation des capteurs et actionneurs
        const buttons = document.querySelectorAll('.btn-toggle');
        
        buttons.forEach(button => {
            button.addEventListener('click', () => {
                const statusSpan = button.previousElementSibling.querySelector('.status');
                const isActuator = button.closest('.actuator') !== null;  // Vérifie si c'est un actionneur
                
                if (isActuator) {
                    // Pour les actionneurs (Chauffage, Climatisation, etc.)
                    if (statusSpan.classList.contains('on')) {
                        statusSpan.classList.remove('on');
                        statusSpan.classList.add('off');
                        statusSpan.textContent = 'Éteint';
                        button.textContent = 'Allumer';
                    } else {
                        statusSpan.classList.remove('off');
                        statusSpan.classList.add('on');
                        statusSpan.textContent = 'Allumé';
                        button.textContent = 'Éteindre';
                    }
                } else {
                    // Pour les capteurs (Température, Humidité, etc.)
                    if (statusSpan.classList.contains('on')) {
                        statusSpan.classList.remove('on');
                        statusSpan.classList.add('off');
                        statusSpan.textContent = 'Désactivé';
                        button.textContent = 'Activer';
                    } else {
                        statusSpan.classList.remove('off');
                        statusSpan.classList.add('on');
                        statusSpan.textContent = 'Activé';
                        button.textContent = 'Désactiver';
                    }
                }
            });
        });
    </script>
    

</body>
</html>
